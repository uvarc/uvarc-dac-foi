<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Faculty Search</title>
    <link rel="stylesheet" href="static/css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <h1>Faculty Search</h1>
    <div id="detailBox" class="hidden">
        <button id="backToSearch">‚Üê Back to Search</button>
        <span id="facultyDetails"></span>
    </div>
    <form id="searchForm">
            <div class="inputContainer">
                <label for="query">Search Query:</label>
                <input type="text" id="query" name="query" required>
            </div>
            <div class="inputContainer">
                <label for="limit">Limit:</label>
                <input type="number" id="limit" name="limit" min="1" max="50" required>
            </div>
            <div class="inputContainer">
                <label for="school">School:</label>
                <select id="school" name="school">
                    <option value="">Any</option>
                    <option value="SEAS">School of Engineering</option>
                    <option value="SOM">School of Medicine</option>
                </select>
            </div>
            <div class="inputContainer">
                <label for="department">Department:</label>
                <!-- dropdown input for department based on school choice -->
                <select id="department" name="department" disabled>
                    <option value="">Any</option>
                </select>
            </div>
            <div class="inputContainer">
                <label for="activity_code">Activity Code:</label>
                <input type="text" id="activity_code" name="activity_code">
            </div>
            <div class="inputContainer">
                <label for="agency_ic_admin">Agency IC Admin:</label>
                <input type="text" id="agency_ic_admin" name="agency_ic_admin">
            </div>
            <div class="inputContainer">
                <span class="checkboxContainer">
                    <label for="has_funding" title="Only show faculty with funding">
                        Has Funding:
                    </label>
                    <input type="checkbox" id="has_funding" name="has_funding">
                </span>
                <span class="checkboxContainer">
                    <label for="exact_words" title="Only show faculty with these exact words, not similar words">
                        Exact Words:
                    </label>
                    <input type="checkbox" id="exact_words" name="exact_words">
                </span>
                <button type="submit">üîç&#xFE0E; Search</button>
            </div>
    </form>
    <svg class="hidden" id="loadingSpinner" width="50px" height="50px" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
        <circle cx="25" cy="25" r="20" fill="none" stroke="#4A90E2" stroke-width="4" stroke-linecap="round"
            stroke-dasharray="90 150" stroke-dashoffset="0">
            <animate attributeName="stroke-dasharray" values="1,150; 90,150; 1,150" dur="2s" keyTimes="0; 0.5; 1"
                calcMode="spline" keySplines="0.25,1,0.5,1; 0.25,1,0.5,1" repeatCount="indefinite" />
            <animate attributeName="stroke-dashoffset" values="0;-60;-120" dur="2s" keyTimes="0; 0.5; 1" calcMode="spline"
                keySplines="0.25,1,0.5,1; 0.25,1,0.5,1" repeatCount="indefinite" />
            <animateTransform attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="2s"
                repeatCount="indefinite" calcMode="linear" />
        </circle>
    </svg>
      
    <h2 id="resultsHeading" class="hidden"><span>Results <span class="hidden" id="resultCount"></span></span> <a class="button" id="downloadCSVButton" download="search_results.csv">‚≠≥ Download CSV</a></h2>
    <div id="results">
    </div>

    <script src="static/js/search.js" defer></script>
</body>
</html>